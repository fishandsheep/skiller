<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>技能五子棋 - Skill Gomoku</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <header class="game-header">
            <h1>技能五子棋</h1>
            <div class="audio-controls">
                <button id="audio-toggle" class="audio-btn">🔊</button>
                <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="50">
                <span id="volume-display" class="volume-display">50%</span>
                <span id="audio-hint" class="audio-hint">点击任意位置开始播放</span>
            </div>
            <div class="game-mode-selector">
                <button id="pvp-mode" class="mode-btn active">双人对战</button>
                <button id="pve-mode" class="mode-btn">人机对战</button>
            </div>
        </header>

        <main class="game-main">
            <div class="game-info-panel">
                <div class="player-info player1">
                    <h3>玩家 1</h3>
                    <div class="piece-indicator black"></div>
                    <div class="energy-info">
                        <span class="energy-label">能量:</span>
                        <div class="energy-bar">
                            <div class="energy-fill" id="player1-energy"></div>
                        </div>
                        <span class="energy-count" id="player1-energy-count">1/5</span>
                    </div>
                </div>

                <div class="game-status">
                    <div class="current-turn">
                        <span>当前回合: </span>
                        <span id="current-player">玩家 1</span>
                    </div>
                    <div class="round-count">
                        <span>回合数: </span>
                        <span id="round-number">1</span>
                    </div>
                    <div class="action-status">
                        <span>行动状态: </span>
                        <span id="action-status">可下棋或使用技能</span>
                    </div>
                </div>

                <div class="player-info player2">
                    <h3>玩家 2</h3>
                    <div class="piece-indicator white"></div>
                    <div class="energy-info">
                        <span class="energy-label">能量:</span>
                        <div class="energy-bar">
                            <div class="energy-fill" id="player2-energy"></div>
                        </div>
                        <span class="energy-count" id="player2-energy-count">1/5</span>
                    </div>
                </div>
            </div>

            <div class="game-center-area">
                <div class="game-board-container">
                    <div class="game-board" id="game-board">
                        <!-- 15x15 grid will be generated by JavaScript -->
                    </div>
                </div>
                
                <!-- 什刹海区域 -->
                <div class="shichahai-container">
                    <h3>什刹海</h3>
                    <div class="shichahai-sea" id="shichahai-sea">
                        <div class="sea-waves"></div>
                        <div class="sea-pieces" id="sea-pieces">
                            <!-- 被飞沙走石移除的棋子会进入这里 -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="skills-panel">
                <h3>技能</h3>
                <div class="skills-container">
                    <div class="skill-card" data-skill="feishazoushi">
                        <div class="skill-icon">🌪️</div>
                        <h4>飞沙走石</h4>
                        <p class="skill-description">随机移除对手的1-3个棋子</p>
                        <div class="skill-cost">消耗: 3 能量</div>
                        <div class="skill-cooldown">冷却: 3 回合</div>
                        <button class="skill-btn" id="skill-feishazoushi">使用</button>
                    </div>

                    <div class="skill-card" data-skill="jingruzhishui">
                        <div class="skill-icon">❄️</div>
                        <h4>静如止水</h4>
                        <p class="skill-description">使对手下一回合无法下棋</p>
                        <div class="skill-cost">消耗: 2 能量</div>
                        <div class="skill-cooldown">冷却: 4 回合</div>
                        <button class="skill-btn" id="skill-jingruzhishui">使用</button>
                    </div>

                    <div class="skill-card" data-skill="libashanxi">
                        <div class="skill-icon">💥</div>
                        <h4>力拔山兮</h4>
                        <p class="skill-description">摔坏棋盘，直接获得胜利</p>
                        <div class="skill-cost">消耗: 5 能量</div>
                        <div class="skill-cooldown">终极技能</div>
                        <button class="skill-btn" id="skill-libashanxi">使用</button>
                    </div>
                </div>
            </div>
        </main>

        <div class="game-over-modal" id="game-over-modal">
            <div class="modal-content">
                <h2 id="winner-text">游戏结束</h2>
                <p id="game-result"></p>
                <div class="modal-buttons">
                    <button id="restart-btn">再来一局</button>
                    <button id="menu-btn">返回主菜单</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio elements -->
    <audio id="bg-music" loop>
        <source src="music/bgmusic.MP3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <audio id="skill-feishazoushi-sound">
        <source src="music/feishazoushi.wav" type="audio/wav">
        Your browser does not support the audio element.
    </audio>
    
    <audio id="skill-jingruzhishui-sound">
        <source src="music/jingruzhishui.wav" type="audio/wav">
        Your browser does not support the audio element.
    </audio>
    
    <audio id="skill-libashanxi-sound">
        <source src="music/libashanxi.wav" type="audio/wav">
        Your browser does not support the audio element.
    </audio>

    <script src="script.js"></script>
</body>
</html>